<!DOCTYPE HTML>
<html>
<head>
<title>Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>

<!-- Bootstrap Core CSS -->
<link href="../css/bootstrap.css" rel='stylesheet' type='text/css' />

<!-- Custom CSS -->
<link href="../css/style.css" rel='stylesheet' type='text/css' />

<!-- font-awesome icons CSS -->
<link href="../css/font-awesome.css" rel="stylesheet"> 
<!-- //font-awesome icons CSS-->

<!-- side nav css file -->
<link href='../css/SidebarNav.min.css' media='all' rel='stylesheet' type='text/css'/>
<!-- //side nav css file -->

 <!-- js-->
<script src="../js/jquery-1.11.1.min.js"></script>
<script src="../js/modernizr.custom.js"></script>

<!--webfonts-->
<link href="##3##" rel="stylesheet">
<!--//webfonts--> 

<!-- chart -->
<script src="../js/Chart.js"></script>
<!-- //chart -->

<!-- Metis Menu -->
<script src="../js/metisMenu.min.js"></script>
<script src="../js/custom.js"></script>
<link href="../css/custom.css" rel="stylesheet">
<!--//Metis Menu -->

<!--pie-chart --><!-- 12345678 -->
<script src="../js/pie-chart.js" type="text/javascript"></script>
 
<!--table控件 -->
<link href="../bootstrap-table-master/dist/bootstrap-table.css" rel="stylesheet" media="screen">
<script src="../bootstrap-table-master/dist/bootstrap-table.js" type="text/javascript"></script>
<script src="../bootstrap-table-master/dist/locale/bootstrap-table-zh-CN.js" charset="UTF-8" type="text/javascript"></script>

</head> 
<body class="cbp-spmenu-push" style="width:100%;">
	<div class="sticky-header header-section " th:replace="head::head">	</div>
<div class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-left" id="cbp-spmenu-s1" th:replace="menu::menu">	</div>	
	
		<!-- //header-ends -->
		<!-- main content start-->
		
		<div id="page-wrapper" >
			<ul class="breadcrumb" style="margin-left: 3%;">
				<li><a href="#">>合同管理</a></li>
			</ul>
<div id="accordion-magical-coder-auto-id-1564368887861" class="panel-group" role="tablist" style="margin-top: 20px; margin-left: 25px; margin-right: 25px;">
    <div class="panel panel-default">
        <div class="panel-heading" role="tab">
            <h4 class="panel-title">
                <a role="button" data-toggle="collapse" href="#collapseOne-magical-coder-auto-id-1564368890555" class="collapsed" aria-expanded="false">查询列表 Query conditions</a>
            </h4>
        </div>
        <div id="collapseOne-magical-coder-auto-id-1564368890555" class="panel-collapse collapse in" role="tabpanel" aria-expanded="false" >
            <div class="panel-body" style="height: auto;">

                <div class="row">
                    <div class="col-md-3 col-xs-3">
                        需求流水号 Code
                    </div>
                    <div class="col-md-3 col-xs-3">
                        合同号 contract code
                    </div>
                    <div class="col-md-3 col-xs-3">
                        需求创建日期 Creation time
                    </div>
                    <div class="col-md-3 col-xs-3">
                        合同制作日期 Contract date
                    </div>
                    <div class="col-md-3 col-xs-3">
                        <input type="text" id="sequenceNumber" name="sequenceNumber" class="form-control" aria-describedby="emailHelp">
                    </div>
                    <div class="col-md-3 col-xs-3">
                        <input type="text" id="contractNumber" name="contractNumber" class="form-control" aria-describedby="emailHelp">
                    </div>
                    <div class="col-md-3 col-xs-3">
                        <input type="text" id="createTime" name="createTime" class="form-control" aria-describedby="emailHelp">
                    </div>
                    <div class="col-md-3 col-xs-3">
                        <input type="text" id="productionTime" name="productionTime" class="form-control" aria-describedby="emailHelp">
                    </div>
                </div>
                <div class="row" style="margin-top: 3px;">
                    <div class="col-md-3 col-xs-3">
                        签约单位 Contract unit
                    </div>
                    <div class="col-md-3 col-xs-3">
                        签约人 Customer manager
                    </div>
                    <div class="col-xs-6 col-md-6">
                        合同状态 contract status
                    </div>
                    <div class="col-md-3 col-xs-3">
                        <input type="text" id="contractorName" name="contractorName" class="form-control" aria-describedby="emailHelp">
                    </div>
                    <div class="col-md-3 col-xs-3">
                        <input type="text" id="contractManager" name="contractManager" class="form-control" readonly>
                    </div>
                    <div class="col-md-3 col-xs-3">
                        <select class="form-control" id="status" name="status">
                            <option value="">-- 请选择 --</option>
                            <option value="1">已制作</option>
                            <option value="2">已发送</option>
                            <option value="3">已签署</option>
                            <option value="4">已盖章</option>
                        </select>
                    </div>
                    <div class="col-md-3 col-xs-3">
                       
                    </div>
                </div>
				<div class="row" style="margin-top: 3px;">
					<div class="col-xs-6"></div>
					<div class="col-xs-6">
						 <button type="button" class="btn btn-primary pull-right">同步状态 sync</button><button type="button" class="btn btn-warning pull-right">重置 reset</button><button type="button" id="search" class="btn btn-success pull-right">查询 select</button>
					</div>
				</div>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading" role="tab">
            <h4 class="panel-title">
                <a class="" role="button" data-toggle="collapse" href="#collapseTwo-magical-coder-auto-id-1564368891577" aria-expanded="true">信息列表 Information list</a>
            </h4>
        </div>
        <div id="collapseTwo-magical-coder-auto-id-1564368891577" class="panel-collapse collapse in" role="tabpanel" aria-expanded="true">
            <div class="panel-body" style="height: auto;">

                <div class="table-responsive">
                	<table class="table" id="contractTable"></table>
					<table class="table" style="display: none">
						<thead>
							<tr class="">
								<th class=""><div style="width: 100px;">序号 number</div></th>
								<th class=""><div style="width: 100px;">流水号 Code</div></th>
								<th class=""><div style="width: 160px;">合同号contract
										code</div></th>
								<th class=""><div style="width: 180px;">签约单位
										Contract unit</div></th>
								<th class=""><div style="width: 180px;">性质分类
										Classification</div></th>
								<th class=""><div style="width: 180px;">创建时间
										Creation time</div></th>
								<th class=""><div style="width: 180px;">合同制作时间
										Contract date</div></th>
								<th class=""><div style="width: 180px;">版本号 version
										number</div></th>
								<th class=""><div style="width: 180px;">合同状态
										Contract status</div></th>
								<th class=""><div style="width: 180px;">签约人
										Customer manager</div></th>
								<th class=""><div style="width: 250px;">合同发送时间
										Contract delivery time</div></th>
								<th class=""><div style="width: 180px;">操作
										operation</div></th>
							</tr>
						</thead>
						<tbody>
							<tr class="">
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""><a href="/" class="" mc-ace="~"
									style="margin-right: 10px;">预览preview</a><a href="/" class="">导出export</a></td>
							</tr>
							<tr class="">
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""></td>
								<td class=""><a href="制作合同BPM.html" class=""
									style="margin-right: 10px;">制作making</a></td>
							</tr>
						</tbody>
					</table>
				</div>
            </div>
        </div>
    </div>
</div>

		</div>
	<!-- new added graphs chart js-->
<div id="footer" class="container" th:replace="foot::foot"></div>
<script src="../js/classie.js"></script>
<script>
	var menuLeft = document.getElementById( 'cbp-spmenu-s1' ),
		showLeftPush = document.getElementById( 'showLeftPush' ),
		body = document.body;
		
	showLeftPush.onclick = function() {
		classie.toggle( this, 'active' );
		classie.toggle( body, 'cbp-spmenu-push-toright' );
		classie.toggle( menuLeft, 'cbp-spmenu-open' );
		disableOther( 'showLeftPush' );
	};
	

	function disableOther( button ) {
		if( button !== 'showLeftPush' ) {
			classie.toggle( showLeftPush, 'disabled' );
		}
	}
	
	$('#search').on('click',function(e){
		refresh();
	});
	
	function refresh() {
		$('#contractTable').bootstrapTable('refresh');
	}

	var contractCols = [ {
		field : 'id',
		title : '序号 Number',
		width : '5%'
	}, {
		field : 'sequenceNumber',
		title : '流水号 Code',
		width : '5%'
	}, {
		field : 'contractNumber',
		title : '合同号Contract Code',
		width : '5%'
	}, {
		field : 'contractorCode',
		visible : false
	}, {
		field : 'contractorName',
		title : '签约单位 Contract Unit',
		width : '5%'
	}, {
		field : 'contractorClassCode',
		visible : false
	}, {
		field : 'contractorClassName',
		title : '性质分类 Classification',
		width : '5%'
	}, {
		field : 'createTime',
		title : '创建时间 Creation Time',
		width : '5%'
	}, {
		field : 'productionTime',
		title : '合同制作时间 Contract Date',
		width : '5%'
	}, {
		field : 'versionId',
		visible : false
	}, {
		field : 'version',
		title : '版本号 Version Number',
		width : '5%'
	}, {
		field : 'status',
		title : '合同状态 Contract Status',
		width : '5%'
	}, {
		field : 'status',
		title : '合同状态 Contract Status',
		width : '5%',
		formatter: function(value, row, index) {
	    	if(value == null){
	    		return '待制定'
	    	}else if(value == '1'){
	    		return '已制定'
	    	}else if(value == '2'){
	    		return '已发送'
	    	}else if(value == '3'){
	    		return '已签署'
	    	}else if(value == '4'){
	    		return '已盖章'
	    	}else{
	    		return '待制定'
	    	}
	    }
	}, {
		field : 'opteratorDomainId',
		title : '签约人 Customer Manager',
		width : '5%'
	}, {
		field : 'sendTime',
		title : '合同发送时间 Contract Delivery Time',
		width : '5%'
	},{
	    title: '操作',
	    align: 'center',
	    width:'15%',
	    formatter: function(value, row, index) {
	    	var actions = [];
			actions.push('<a class="btn" onclick="editAddress(\'' + index + '\')"><i class="fa fa-edit"></i>编辑</a> ');
			actions.push('<a class="btn" onclick="removeAddress(\'' + index + '\')"><i class="fa fa-remove"></i>删除</a>');
			return actions.join('');
	    }
	} ];

	$('#contractTable').bootstrapTable({
		method : 'get',
		url : "/steigenberger/contract/",//请求路径
		striped : true, //是否显示行间隔色
		//toolbar : '#toolbar',
		uniqueId : 'id',
		cache : false,
		sortable : true, //是否启用排序
		clickToSelect : true, //是否启用点击选中行
		smartDisplay : true,
		singleSelect : true,
		sortOrder : "asc", //排序方式
		pageNumber : 1, //初始化加载第一页
		sidePagination : 'server',//server:服务器端分页|client：前端分页
		pageSize : 10,//单页记录数,
		showRefresh : false,//刷新按钮
		queryParams : function(){
			return {
				/* id:'', */
				sequenceNumber: $('#sequenceNumber').val(),
				contractNumber: $('#contractNumber').val(),
				contractManager: $('#contractManager').val(),
				contractorName: $('#contractorName').val(),
				createTime: $('#createTime').val(),
				productionTime: $('#productionTime').val(),
				status: $('#status').val()
			};
		},
		responseHandler : function(res){
			if (res.status != 'ok') {
				alert(res.msg);
				return {};
			}
			return {
				total: res.data.total,
				rows: res.data.rows
			}
		},
		formatNoMatches:function(){
	        return "<h2>没有匹配的数据</h2>";
	    }, 
		columns : contractCols
	});
</script>	
<!--scrolling js-->
<script src="../js/jquery.nicescroll.js"></script>
<script src="../js/scripts.js"></script>
<!--//scrolling js-->

<!-- side nav js -->
<script src='../js/SidebarNav.min.js' type='text/javascript'></script>
<script>
     $('.sidebar-menu').SidebarNav()
   </script>	
<script src="../js/SimpleChart.js"></script>
<script src="../js/bootstrap.js"> </script>	
   
<!--  js -->  
<script src="../pageJs/permissionApply.js"></script>
</body>
</html>